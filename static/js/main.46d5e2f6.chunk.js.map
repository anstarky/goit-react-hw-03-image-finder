{"version":3,"sources":["components/PhotoCard/PhotoCard.module.css","components/App/App.module.css","components/Gallery/Gallery.module.css","components/Modal/Modal.module.css","components/SearchForm/SearchForm.module.css","components/Loader/Loader.module.css","services/image-api.jsx","components/SearchForm/SearchForm.jsx","components/Modal/Modal.jsx","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/ErrorNotification/ErrorNotification.jsx","components/Loader/Loader.jsx","components/App/App.jsx","index.js"],"names":["module","exports","fetchImages","query","pageNumber","key","path","fetch","then","res","json","data","hits","SearchForm","state","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","search__form","this","type","onChange","autoComplete","placeholder","Component","MODAL_ROOT","document","querySelector","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","id","url","createPortal","backdrop","ref","onClick","role","modal","src","alt","PhotoCard","isModalOpen","openModal","closeModal","image","tags","likes","views","comments","downloads","webformatURL","largeImageURL","photo__card","stats","stats__item","fullscreen__button","Gallery","images","gallery","map","gallery__item","ErrorNotification","message","LOADER_ROOT","Loader","loader","mapper","objectID","pageURL","App","isLoading","error","onSearch","imageAPI","catch","finally","scrollTo","top","body","scrollHeight","behavior","prevProps","prevState","app","length","button","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.46d5e2f6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo__card\":\"PhotoCard_photo__card__1vlI3\",\"stats\":\"PhotoCard_stats__29HWK\",\"stats__item\":\"PhotoCard_stats__item__3LOUj\",\"fullscreen__button\":\"PhotoCard_fullscreen__button__MeYWo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3_4vK\",\"button\":\"App_button__3sati\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2jZJc\",\"gallery__item\":\"Gallery_gallery__item__3M4yX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1KPhg\",\"modal\":\"Modal_modal__2W2fo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search__form\":\"SearchForm_search__form__cWttg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3mHfs\"};","export const fetchImages = (query = '', pageNumber = 1) => {\n\n  const key = '14155377-b5b6b49493d016d7b1207d603';\n\n  const path = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${pageNumber}&per_page=12&key=${key}`;\n\n  return fetch(path)\n    .then(res => res.json())\n    .then(data => data.hits);\n\n};\n\n","import React, { Component } from 'react';\r\n\r\nimport styles from './SearchForm.module.css';\r\n\r\nclass SearchForm extends Component {\r\n    state = { query: '' };\r\n\r\n    handleChange = e => {\r\n        this.setState({\r\n            query: e.target.value,\r\n        });\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: '' });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <form\r\n                className={styles.search__form}\r\n                onSubmit={this.handleSubmit}\r\n            >\r\n                <input\r\n                    type=\"text\"\r\n                    value={this.state.query}\r\n                    onChange={this.handleChange}\r\n                    autoComplete=\"off\"\r\n                    placeholder=\"Search images...\"\r\n                />\r\n            </ form>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default SearchForm;\r\n","import React, { Component, createRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport T from 'prop-types';\r\n\r\nimport styles from './Modal.module.css';\r\n\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n    static propTypes = {\r\n        id: T.number.isRequired,\r\n        url: T.string.isRequired,\r\n        onClose: T.func.isRequired,\r\n    };\r\n\r\n    backdropRef = createRef();\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyPress);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyPress);\r\n    }\r\n\r\n    handleKeyPress = e => {\r\n\r\n        if (e.code !== 'Escape') {\r\n            return;\r\n        }\r\n\r\n        this.props.onClose();\r\n    };\r\n\r\n    handleBackdropClick = e => {\r\n\r\n        if (this.backdropRef.current && e.target !== this.backdropRef.current) {\r\n            return;\r\n        }\r\n\r\n        this.props.onClose();\r\n    };\r\n\r\n    render() {\r\n        const { id, url } = this.props;\r\n        return createPortal(\r\n            <div\r\n                className={styles.backdrop}\r\n                ref={this.backdropRef}\r\n                onClick={this.handleBackdropClick}\r\n                role=\"presentation\"\r\n            >\r\n                <div className={styles.modal}>\r\n                    <img src={url} alt=\"\" id={id} />\r\n                </div>\r\n            </div>\r\n            ,\r\n            MODAL_ROOT,\r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal","import React, { Component } from 'react';\r\nimport T from 'prop-types';\r\n\r\nimport styles from './PhotoCard.module.css';\r\n\r\nimport Modal from '../Modal'\r\n\r\nclass PhotoCard extends Component {\r\n\r\n    static propTypes = {\r\n        image: T.shape({\r\n            id: T.number.isRequired,\r\n            tags: T.string.isRequired,\r\n            likes: T.number.isRequired,\r\n            views: T.number.isRequired,\r\n            comments: T.number.isRequired,\r\n            downloads: T.number.isRequired,\r\n            webformatURL: T.string.isRequired,\r\n            largeImageURL: T.string.isRequired,\r\n        }).isRequired,\r\n    }\r\n\r\n    state = {\r\n        isModalOpen: false,\r\n    }\r\n\r\n    openModal = () => this.setState({ isModalOpen: true });\r\n\r\n    closeModal = () => this.setState({ isModalOpen: false });\r\n\r\n    render() {\r\n        const { isModalOpen } = this.state;\r\n\r\n        const { id, tags, likes, views, comments, downloads, webformatURL, largeImageURL } = this.props.image;\r\n\r\n        return (\r\n            <div className={styles.photo__card} >\r\n                <img src={webformatURL} alt={tags} />\r\n\r\n                <div className={styles.stats}>\r\n                    <p className={styles.stats__item}>\r\n                        <i className=\"material-icons\">thumb_up</i>\r\n                        {likes}\r\n                    </p>\r\n                    <p className={styles.stats__item}>\r\n                        <i className=\"material-icons\">visibility</i>\r\n                        {views}\r\n                    </p>\r\n                    <p className={styles.stats__item}>\r\n                        <i className=\"material-icons\">comment</i>\r\n                        {comments}\r\n                    </p>\r\n                    <p className={styles.stats__item}>\r\n                        <i className=\"material-icons\">cloud_download</i>\r\n                        {downloads}\r\n                    </p>\r\n                </div>\r\n\r\n                <button\r\n                    type=\"button\"\r\n                    className={styles.fullscreen__button}\r\n                    onClick={this.openModal}\r\n                >\r\n                    <i className=\"material-icons\">zoom_out_map</i>\r\n                </button>\r\n\r\n                {isModalOpen && (<Modal onClose={this.closeModal} id={id} url={largeImageURL} />)}\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nexport default PhotoCard","import React from 'react';\r\nimport T from 'prop-types';\r\n\r\nimport styles from './Gallery.module.css';\r\n\r\nimport PhotoCard from '../PhotoCard'\r\n\r\nconst Gallery = ({ images }) => (\r\n    <ul className={styles.gallery}>\r\n        {images.map((image) => (\r\n            <li key={image.id} className={styles.gallery__item}>\r\n                <PhotoCard image={image} />\r\n            </li>\r\n        ))}\r\n    </ul >\r\n);\r\n\r\nGallery.propTypes = {\r\n    images: T.arrayOf(T.shape).isRequired,\r\n};\r\n\r\nexport default Gallery;","import React from 'react';\n\nconst ErrorNotification = message => <div>Error: {message}</div>;\n\nexport default ErrorNotification;\n","import React from 'react';\nimport { createPortal } from 'react-dom';\n\nimport styles from './Loader.module.css';\n\nconst LOADER_ROOT = document.querySelector('#loader-root');\n\nconst Loader = () => createPortal(\n    <div className={styles.loader}>Loading...</div>, LOADER_ROOT\n);\n\nexport default Loader;\n","import React, { Component } from 'react';\r\nimport styles from './App.module.css';\r\n\r\nimport * as imageAPI from '../../services/image-api.jsx';\r\n\r\nimport SearchForm from '../SearchForm';\r\nimport Gallery from '../Gallery';\r\nimport ErrorNotification from '../ErrorNotification';\r\nimport Loader from '../Loader';\r\n\r\nconst mapper = images => {\r\n    return images.map(({ objectID: id, url: pageURL, ...props }) => ({\r\n        id,\r\n        pageURL,\r\n        ...props,\r\n    }));\r\n};\r\n\r\nclass App extends Component {\r\n    state = {\r\n        images: [],\r\n        isLoading: false,\r\n        error: null,\r\n        pageNumber: 1,\r\n        query: '',\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevState.query !== this.state.query) {\r\n            this.fetchImages();\r\n        }\r\n    }\r\n\r\n    onSearch = query => {\r\n        this.setState({ query, images: [], pageNumber: 1 });\r\n    };\r\n\r\n    fetchImages = () => {\r\n        const { query, pageNumber } = this.state;\r\n\r\n        this.setState({ isLoading: true });\r\n\r\n        imageAPI\r\n            .fetchImages(query, pageNumber)\r\n            .then(images => {\r\n                this.setState(state => ({\r\n                    images: [...state.images, ...mapper(images)],\r\n                    pageNumber: state.pageNumber + 1,\r\n                }));\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n            })\r\n            .finally(() => {\r\n                this.setState({ isLoading: false });\r\n                window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const { images, isLoading, error } = this.state;\r\n\r\n        return (\r\n            <div className={styles.app}>\r\n                <SearchForm onSubmit={this.onSearch} />\r\n\r\n                {error && <ErrorNotification message={error.message} />}\r\n\r\n                {isLoading && <Loader />}\r\n\r\n                {images.length > 0 && <Gallery images={images} />}\r\n\r\n                {images.length > 0 && (\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={this.fetchImages}\r\n                        className={styles.button}>\r\n                        Load more articles\r\n                    </button>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport 'normalize.css';\r\nimport './index.css';\r\n\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}